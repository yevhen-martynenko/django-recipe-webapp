{% extends "../base.html" %}
{% load asset_tags %}


{% block title %}{{ title }}{% endblock title %}
{% block page_styles %}
<link rel="stylesheet" href="{% asset_tags 'password_reset.css' %}">
{% endblock page_styles %}


{% block content %}
<div class="container-centered">
    <main class="password-reset" role="main">
        <div class="password-reset__header">
            <span class="password-reset__badge">Account Recovery</span>
            <h1 class="password-reset__title">Reset Your Password</h1>
            <p class="password-reset__subtitle">
                Don't worry! Enter your email address and we'll send you a link to reset your password.
            </p>
        </div>

        <!-- Messages -->
        <div id="success_message" class="message message--success" role="alert" aria-live="polite">
            <strong>Email sent successfully!</strong> Please check your inbox and follow the instructions to reset your password.
        </div>
        
        <div id="error_message" class="message message--error" role="alert" aria-live="assertive">
            <strong>Something went wrong.</strong> Please check your email address and try again.
        </div>

        <!-- Form -->
        <form class="password-reset__form" id="passwordResetForm" novalidate>
            <div class="form-group">
                <label for="email" class="form-group__label">Email Address</label>
                <input 
                    type="email" 
                    id="email" 
                    name="email" 
                    class="form-group__input" 
                    placeholder="Enter your email address"
                    required
                    autocomplete="email"
                    aria-describedby="email-error email-success"
                >
                <div id="email-error" class="form-group__error" role="alert"></div>
                <div id="email-success" class="form-group__success"></div>
            </div>

            <button type="submit" class="btn" id="submitBtn">
                <span class="btn__spinner" aria-hidden="true"></span>
                <span class="btn__text">Send Reset Link</span>
            </button>
        </form>

        <footer class="password-reset__footer">
            <div class="password-reset__footer-links">
                <a href="/login" class="password-reset__footer-link">Back to Login</a>
                <a href="/register" class="password-reset__footer-link">Create Account</a>
                <a href="/help" class="password-reset__footer-link">Need Help?</a>
            </div>
            <p>
                <a href="/" class="password-reset__back-link">‚Üê Return to Recipe Community</a>
            </p>
        </footer>
    </main>
</div>
{% endblock content %}


{% block page_scripts %}
<script defer src="{% asset_tags 'password_reset.js' %}"></script>
{% endblock page_scripts %}
